
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Starter ROS workspace for working with the [s]mall [ve]hicles for [a]utonomy platform ">
      
      
        <meta name="author" content="Smart Mobility Lab">
      
      
      
        <link rel="prev" href="../models/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.8">
    
    
      
        <title>Interfaces - SVEA</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.046329b4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#interfaces" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="SVEA" class="md-header__button md-logo" aria-label="SVEA" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SVEA
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Interfaces
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/KTH-SML/svea" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SVEA" class="md-nav__button md-logo" aria-label="SVEA" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    SVEA
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/KTH-SML/svea" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/0_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0. Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/1_floor2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Floor 2 and Pure-Pursuit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/2_lidar_sim/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Lidar Simulation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/3_svea_operation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. The SVEA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/4_docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/5_more_docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Advanced Docker Workflows
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Development
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../development/documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Interfaces
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Interfaces
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#svea.ActuationInterface" class="md-nav__link">
    ActuationInterface
  </a>
  
    <nav class="md-nav" aria-label="ActuationInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.differential_front" class="md-nav__link">
    differential_front
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.differential_rear" class="md-nav__link">
    differential_rear
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.emergency" class="md-nav__link">
    emergency
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.gear" class="md-nav__link">
    gear
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.max_speed" class="md-nav__link">
    max_speed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.max_speed_signal" class="md-nav__link">
    max_speed_signal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.remote_idle" class="md-nav__link">
    remote_idle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.remote_override" class="md-nav__link">
    remote_override
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.software_idle" class="md-nav__link">
    software_idle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.send_control" class="md-nav__link">
    send_control()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.wait_until_ready" class="md-nav__link">
    wait_until_ready()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#svea.LocalizationInterface" class="md-nav__link">
    LocalizationInterface
  </a>
  
    <nav class="md-nav" aria-label="LocalizationInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#svea.LocalizationInterface.add_callback" class="md-nav__link">
    add_callback()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.LocalizationInterface.remove_callback" class="md-nav__link">
    remove_callback()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.LocalizationInterface.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#svea.ActuationInterface" class="md-nav__link">
    ActuationInterface
  </a>
  
    <nav class="md-nav" aria-label="ActuationInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.differential_front" class="md-nav__link">
    differential_front
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.differential_rear" class="md-nav__link">
    differential_rear
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.emergency" class="md-nav__link">
    emergency
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.gear" class="md-nav__link">
    gear
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.max_speed" class="md-nav__link">
    max_speed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.max_speed_signal" class="md-nav__link">
    max_speed_signal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.remote_idle" class="md-nav__link">
    remote_idle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.remote_override" class="md-nav__link">
    remote_override
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.software_idle" class="md-nav__link">
    software_idle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.send_control" class="md-nav__link">
    send_control()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.ActuationInterface.wait_until_ready" class="md-nav__link">
    wait_until_ready()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#svea.LocalizationInterface" class="md-nav__link">
    LocalizationInterface
  </a>
  
    <nav class="md-nav" aria-label="LocalizationInterface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#svea.LocalizationInterface.add_callback" class="md-nav__link">
    add_callback()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.LocalizationInterface.remove_callback" class="md-nav__link">
    remove_callback()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#svea.LocalizationInterface.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="interfaces">Interfaces<a class="headerlink" href="#interfaces" title="Permanent link">&para;</a></h1>


<div class="doc doc-object doc-class">




<h2 id="svea.ActuationInterface" class="doc doc-heading">
          <code>ActuationInterface</code>


<a href="#svea.ActuationInterface" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents first">

  
      <p>Interface object for sending actuation commands to the SVEA car&rsquo;s low-level
controller.</p>
<p>We implement the interface for two reasons:</p>
<ol>
<li>Our models typically expect steering angle <code>[rad]</code> and velocity <code>[m/s]</code>.</li>
<li>We would like to add some features on top of just sending the control
   inputs.</li>
</ol>
<p>The low-level controller expects unit-less steering and velocity values between
<code>[-127, 127]</code> that correspond to the minimum and maximum steering angles and
velocities.</p>
<p>This interface makes it easy to input steering angles in <code>[rad]</code> and
velocities in <code>[m/s]</code>. Assumes very simplistic models of the low-level
actuation. It assumes a linear steering model and a linear velocity model.
The control interface assumes that the ESC is in the default Sports mode.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>vehicle_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of vehicle being controlled; The name will be
effectively be added as a namespace to the topics used by the
corresponding low lever interface i.e
<code>namespace/vehicle_name/lli/topic</code>.</p>
            </div>
          </td>
          <td>
                <code>&#39;&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>log_length</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of messages from control requests, control actuated
and the remote that should be stored in the internal log. Set to
<code>None</code> for unlimited logging.</p>
            </div>
          </td>
          <td>
                <code>100</code>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">




<h3 id="svea.ActuationInterface.differential_front" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">differential_front</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#svea.ActuationInterface.differential_front" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Status of the front differential lock</p>
<p>:return: <code>0</code> if unlocked <code>1</code> if locked,
         <code>None</code> if no information has been received.
:rtype: int</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h3 id="svea.ActuationInterface.differential_rear" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">differential_rear</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#svea.ActuationInterface.differential_rear" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Status of the rear differential lock</p>
<p>:return: <code>0</code> if unlocked <code>1</code> if locked,
         <code>None</code> if no information has been received.
:rtype: int</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h3 id="svea.ActuationInterface.emergency" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">emergency</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#svea.ActuationInterface.emergency" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Check if the emergency flag is set. If the emergency flag can
not be cleared from ROS it is also possible to clear it by not
sending any control requests for at least 5 seconds, and setting
the remote to override.</p>
<p>:return: <code>True</code> if emergency flag is set, <code>False</code> otherwise,
         <code>None</code> if no information has been received.
:rtype: bool</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h3 id="svea.ActuationInterface.gear" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">gear</span><span class="p">:</span> <span class="nb">int</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#svea.ActuationInterface.gear" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Current gear.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p><code>0</code> if low gear <code>1</code> if high gear, <code>None</code> if no information has been</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>received.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h3 id="svea.ActuationInterface.max_speed" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">max_speed</span><span class="p">:</span> <span class="nb">float</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#svea.ActuationInterface.max_speed" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Get the maximum speed, dependent on gear.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The maximum speed, independent of direction</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h3 id="svea.ActuationInterface.max_speed_signal" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">max_speed_signal</span><span class="p">:</span> <span class="nb">float</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#svea.ActuationInterface.max_speed_signal" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Get the maximal velocity that the controller will actually attempt
to actuate for the current gear.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The maximum actuated speed, independent of direction.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h3 id="svea.ActuationInterface.remote_idle" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">remote_idle</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#svea.ActuationInterface.remote_idle" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Check if the remote is considered idle by the low level
interface.</p>
<p>:return: <code>True</code> if idle, <code>False</code> if active,
         <code>None</code> if no information has been received.
:rtype: bool</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h3 id="svea.ActuationInterface.remote_override" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">remote_override</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#svea.ActuationInterface.remote_override" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Check if the remote override is active. If the override is
active the control requests will be ignored by the low level
interface.</p>
<p>:return: <code>True</code> if override is engaged, <code>False</code> otherwise,
         <code>None</code> if no information has been received.
:rtype: bool</p>
  </div>

</div>

<div class="doc doc-object doc-attribute">




<h3 id="svea.ActuationInterface.software_idle" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">software_idle</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#svea.ActuationInterface.software_idle" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Check if the computer is considered idle by the low level
interface.</p>
<p>:return: <code>True</code> if idle, <code>False</code> if active,
         <code>None</code> if no information has been received.
:rtype: bool</p>
  </div>

</div>




<div class="doc doc-object doc-function">




<h3 id="svea.ActuationInterface.send_control" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">send_control</span><span class="p">(</span><span class="n">steering</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">velocity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">brake_force</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">transmission</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">differential_front</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">differential_rear</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">ctrl_code</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

<a href="#svea.ActuationInterface.send_control" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Method for taking control inputs and implementing features over the
control inputs.</p>
<p>This method converts steering angles and velocities from <code>[rad]</code> and
<code>[m/s]</code> to unit-less values that the low-level system expects,
saturates the unit-less values, implements a stopping feature for
blocking control inputs (note, this is not necessarily a braking
feature, it only blocks inputs from being published, thus it should not
be used for emergency braking), and sends/publishes inputs to the
low-level interface.</p>
<p>If an argument is left empty the low-level interface will be told to
use the last sent value. The same is true if the gear or differential
arguments have any other values than 0 or 1. If you do <em>not</em> call
<code>send_control</code> then the car will <em>not</em> do anything.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>steering</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Input steering angle for the car in <code>[rad]</code>, if argument
left empty the low-level system will use the last sent valid
value.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>velocity</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Input velocity for the car <code>[m/s]</code>, if argument left
empty the low-level system will implement the last sent valid
value.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>brake_force</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Brake force as a percentage <code>[0, 100]</code> of maximum
braking force.</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>transmission</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>0 means low gear, 1 means high gear, -1 means keep
the currently set gear.</p>
            </div>
          </td>
          <td>
                <code>-1</code>
          </td>
        </tr>
        <tr>
          <td><code>differential_front</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>0 means unlocked, 1 means locked, -1 means keep
the currently set lock state.</p>
            </div>
          </td>
          <td>
                <code>-1</code>
          </td>
        </tr>
        <tr>
          <td><code>differential_rear</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>0 means unlocked, 1 means locked, -1 means keep
the currently set lock state.</p>
            </div>
          </td>
          <td>
                <code>-1</code>
          </td>
        </tr>
        <tr>
          <td><code>ctrl_code</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Deprecated.</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="svea.ActuationInterface.start" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">start</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#svea.ActuationInterface.start" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Spins up ROS background thread; must be called to start receiving
and sending data.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>wait</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>True if the interface should call <code>wait_until_ready</code> before
returning.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="svea.ActuationInterface.wait_until_ready" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">wait_until_ready</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span></code>

<a href="#svea.ActuationInterface.wait_until_ready" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Wait until the interface is ready.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>timeout</code></td>
          <td>
                <code>float</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Number of seconds to wait for a response from the low
level interface.</p>
            </div>
          </td>
          <td>
                <code>10.0</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>False if timed out or rospy is shutdown, true otherwise. Will</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>return when the interface is ready, after <code>timeout</code> seconds or if</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>rospy is shutdown.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">




<h2 id="svea.LocalizationInterface" class="doc doc-heading">
          <code>LocalizationInterface</code>


<a href="#svea.LocalizationInterface" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents first">

  
      <p>Interface handling the reception of state information from the
localization stack.</p>
<p>This object can take on several callback functions and execute them as soon
as state information is available.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>vehicle_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Name of vehicle being controlled; The name will be
effectively be added as a namespace to the topics used by the
corresponding localization node i.e <code>namespace/vehicle_name/state</code>.</p>
            </div>
          </td>
          <td>
                <code>&#39;&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h3 id="svea.LocalizationInterface.add_callback" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">add_callback</span><span class="p">(</span><span class="n">cb</span><span class="p">)</span></code>

<a href="#svea.LocalizationInterface.add_callback" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Add state callback.</p>
<p>Every function passed into this method will be called whenever new
state information comes in from the localization stack.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>cb</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span>[[<span title="svea.states.VehicleState">VehicleState</span>], None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A callback function intended for responding to the reception of
state info.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="svea.LocalizationInterface.remove_callback" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">remove_callback</span><span class="p">(</span><span class="n">cb</span><span class="p">)</span></code>

<a href="#svea.LocalizationInterface.remove_callback" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Remove callback so it will no longer be called when state
information is received.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>cb</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span>[[<span title="svea.states.VehicleState">VehicleState</span>], None]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A callback function that should be no longer used in response</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  </div>

</div>


<div class="doc doc-object doc-function">




<h3 id="svea.LocalizationInterface.start" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">start</span><span class="p">()</span></code>

<a href="#svea.LocalizationInterface.start" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Spins up ROS background thread; must be called to start receiving
data.</p>

  </div>

</div>



  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2020, Smart Mobility Lab
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
        <script src="../../mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>